{% extends 'base.html' %}
{% load static from staticfiles %}

{% block content %}
<div class="maincol-form">
    <form id="wuiForm" class="wuiForm needs-validation" role="form" action="">
        <div class="stepwizard steps-col">
            <div class="stepwizard-row setup-panel">
                <div class="stepwizard-step">
                    <button href="#step-1" type="button" class="btn btn-primary btn-circle shadow">1</button>
                    <p>Step 1</p>
                </div>
                <div class="stepwizard-step">
                    <button href="#step-2" type="button" class="btn btn-default btn-circle shadow" disabled="disabled">2</button>
                    <p>Step 2</p>
                </div>
                <div class="stepwizard-step">
                    <button href="#step-3" type="button" class="btn btn-default btn-circle shadow" disabled="disabled">3</button>
                    <p>Step 3</p>
                </div>
                <div class="stepwizard-step">
                    <button href="#step-4" type="button" class="btn btn-default btn-circle shadow" disabled="disabled">4</button>
                    <p>Step 4</p>
                </div>
            </div>
        </div>
        <div class="row setup-content" id="step-1">
            <div class="row form-row">
                <div class="formColumn">
                    <a href="#" data-toggle="popover" data-trigger="focus" title="Pipeline Name" data-content="Desired name of your pipeline without '.sh' extension. If empty, pipeline will be called as 'ANGSDgui_pipeline'.">
                        <i class="QuestionMark fa fa-question-circle"></i>
                    </a>
                    <label for="pipelineName" class="col-form-label form-control-label"> Pipeline name </label>
                    <input type="text" name="pipelineName" class="textinput textInput form-control" id="pipelineName" oninput="rewriteCode();" onpaste="rewriteCode();"> 
                </div>
                <div class="formColumn">
                    <a href="#" data-toggle="popover" data-trigger="focus" title="Analysis" data-content="Select one of the possible analyses to perform.">
                        <i class="QuestionMark fa fa-question-circle"></i>
                    </a>
                    <label for="analysis" class="col-form-label requiredField form-control-label"> Analysis <span class="asteriskField">*</span>
                    </label>
                    <select name="analysis" class="select form-control" id="analysis" required="required" onChange="getAnalysis(this.value);">
                        <option value=""> </option>
                        <option value="1">Site frequency spectrum</option>
                        <option value="2">Population branch statistics</option>
                        <option value="3">Calculate depth</option>
                    </select>
                </div>
            </div>
            <div class="row button-row">
                <button class="btn btn-primary nextBtn btn-lg pull-right" type="button">Next</button>
            </div>
        </div>
        <div class="row setup-content" id="step-2">
            <div class="row form-row" id="step-2-div">
                <div class="formColumn">
                    <a href="#" data-toggle="popover" data-trigger="focus" title="File Name of Input File" data-content="Name of the file to be used in the analysis. Including extensions if any.">
                        <i class="QuestionMark fa fa-question-circle"></i>
                    </a>
                    <label for="infileName" class="col-form-label requiredField form-control-label"> Input file name <span class="asteriskField">*</span>
                    </label>
                    <input type="text" name="infileName" class="textinput textInput form-control" required="required" id="infileName" oninput="rewriteCode();">
                </div>
            </div>
            <div class="row button-row">
                <button class="btn btn-primary prevBtn btn-lg pull-left" type="button">Previous</button>
                <button class="btn btn-primary nextBtn btn-lg pull-right" type="button">Next</button>
            </div>
        </div>
        <div class="row setup-content" id="step-3">
            <div class="row form-row" id="step-3-div">
            </div>
            <div class="row button-row">
                <button class="btn btn-primary prevBtn btn-lg pull-left" type="button">Previous</button>
                <button class="btn btn-primary nextBtn btn-lg pull-right" type="button">Next</button>
            </div>
        </div>
        <div class="row setup-content" id="step-4">
            <div class="row form-row">
                <div class="formColumn">
                    <h> Your pipeline is ready!</h>
                    <button type="button" onclick="Download()" class="DownloadButton" id="DownloadButton" data-toggle="tooltip" title="Download pipeline"><i class="fa fa-download"></i></button>
                    <button type="button" class="CopyButton" id="CopyButton" data-clipboard-action="copy" data-clipboard-target="#code" data-toggle="tooltip" title="Copy to clipboard"><i class="fa fa-clipboard" alt="Copied to clipboard"></i></button>
                </div>
            </div>
            <div>
                <button class="btn btn-primary prevBtn btn-lg pull-left" type="button">Previous</button>
            </div>
        </div>
    </form>
</div>
<div class="maincol-terminal ubuntu">
    <div class="terminal shadow">
        <div class="top">
            <div class="btns">
                <span class="circle red"></span>
                <span class="circle yellow"></span>
                <span class="circle green"></span>
            </div>
            <div class="title">
                Pipeline
                <b id="yourPipelineName"></b>
                :
            </div>
        </div>
        <pre class="CodeArea">
<b id="code"></b>
        </pre>
    </div>
</div>

{% endblock %}

{% block PageScripts %}

<link type="text/css" rel="stylesheet" href="{% static "wui/css/FormPage.css" %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script type="text/javascript" src="{% static "wui/js/FormScript.js" %}"></script>
<script type="text/javascript" src="{% static "wui/js/download.js" %}"></script>
<script type="text/javascript" src="{% static "wui/js/clipboard.js" %}"></script>

{% endblock %}

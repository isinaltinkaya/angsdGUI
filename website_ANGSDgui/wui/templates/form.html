{% extends 'base.html' %}
{% load static from staticfiles %}

{% block content %}
<div class="maincol-form">
    <form id="wuiForm" class="wuiForm" role="form" action="">
        <div class="stepwizard steps-col">
            <div class="stepwizard-row setup-panel">
                <div class="stepwizard-step">
                    <button href="#step-1" type="button" class="btn btn-primary btn-circle shadow" disabled="disabled">1</button>
                    <p>Step 1</p>
                </div>
                <div class="stepwizard-step">
                    <button href="#step-2" type="button" class="btn btn-default btn-circle shadow" disabled="disabled">2</button>
                    <p>Step 2</p>
                </div>
                <div class="stepwizard-step">
                    <button href="#step-3" type="button" class="btn btn-default btn-circle shadow" disabled="disabled">3</button>
                    <p>Step 3</p>
                </div>
            </div>
        </div>
        <div class="row setup-content step-1" id="step-1">
            <div class="form-grid">
                <div class="formItem">
                    <a href="#" data-toggle="popover" data-trigger="focus" title="Pipeline Name" data-content="Desired name of your pipeline without '.sh' extension. Follow the rules for naming files in Linux and Unix. If empty, pipeline will be called as 'ANGSDgui_pipeline'.">
                        <i class="QuestionMark fa fa-question-circle"></i>
                    </a>
                    <label for="pipelineName" class="col-form-label form-control-label"> Pipeline name </label>
                    <input type="text" name="pipelineName" class="form-control" id="pipelineName" oninput="getPipelineName();" onpaste="getPipelineName();"> 
                </div>
                <div class="formItem">
                    <a href="#" data-toggle="popover" data-trigger="focus" title="Analysis" data-content="Select one of the possible analyses to perform.">
                        <i class="QuestionMark fa fa-question-circle"></i>
                    </a>
                    <label for="analysis" class="col-form-label requiredField form-control-label"> Analysis <span class="asteriskField">*</span>
                    </label>
                    <select name="analysis" class="select form-control" id="analysis" required="required" onChange="getAnalysis(this.value);">
                        <option value=""> </option>
                        <option value="1">Site frequency spectrum</option>
                        <option value="2">Population branch statistics</option>
                        <option value="3">Calculate depth</option>
                    </select>
                </div>
            </div>
            <div class="row button-row">
                <button class="btn btn-primary nextBtn btn-lg pull-right" type="button">Next</button>
            </div>
        </div>
        <div class="row setup-content step-3" id="step-3">
            <div class="form-grid">
                <div class="formItem"><h> Your pipeline is ready!</h><br>You can download your pipeline or copy it to your clipboard.<br></div>
                <div class="formItem">
                    <button type="button" onclick="Download()" class="DownloadButton" id="DownloadButton" data-toggle="tooltip" title="Download pipeline"><i class="fa fa-download"></i></button>
                    <div class="divider"></div>
                    <button type="button" class="CopyButton" id="CopyButton" data-clipboard-action="copy" data-clipboard-target="#code" data-toggle="tooltip" title="Copy to clipboard"><i class="fa fa-clipboard" alt="Copied to clipboard"></i></button>
                </div>
            </div>
            <div class="row button-row">
                <button class="btn btn-primary prevBtn btn-lg pull-left" type="button">Previous</button>
            </div>
        </div>
    </form>
</div>
<div class="maincol-terminal ubuntu">
    <div class="terminal shadow">
        <div class="top">
            <div class="btns">
                <span class="circle red"></span>
                <span class="circle yellow"></span>
                <span class="circle green"></span>
            </div>
            <div class="title">
                Pipeline
                <b id="yourPipelineName"></b>
                :
            </div>
        </div>
        <pre class="CodeArea">
<b id="code"></b>
        </pre>
    </div>
</div>

{% endblock %}

{% block PageScripts %}

<link type="text/css" rel="stylesheet" href="{% static "wui/css/FormPage.css" %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script type="text/javascript" src="{% static "wui/js/FormScript.js" %}"></script>
<script type="text/javascript" src="{% static "wui/js/download.js" %}"></script>
<script type="text/javascript" src="{% static "wui/js/clipboard.js" %}"></script>

{% endblock %}
